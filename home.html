<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Agrobot - Future Farming</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            margin: 0;
            background-color: #f0fdf4;
            perspective: 1000px;
        }

        .font-tech { font-family: 'Orbitron', sans-serif; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #18181b; }
        ::-webkit-scrollbar-thumb { background: #22c55e; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4ade80; }

        /* --- LAYERING CONFIGURATION --- */
        
        /* 1. The Canvas (Ball) - BEHIND */
        #canvas-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; 
            pointer-events: auto; 
            touch-action: none;
        }

        /* 2. The Text - IN FRONT */
        .hero-text {
            font-size: clamp(3rem, 13vw, 10rem); 
            line-height: 0.9;
            letter-spacing: -0.05em;
            color: #052e16;
            position: relative;
            z-index: 10; 
            
            /* SYNCHRONIZED RISING ANIMATION */
            opacity: 0;
            animation: riseFromDepths 2.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
        }

        @keyframes riseFromDepths {
            0% {
                transform: translateY(110vh) scale(0.8); 
                opacity: 0;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        /* Glitch Effect */
        .hero-text::before, .hero-text::after {
            content: "AGROBOT.";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0;
        }
        .hero-text:hover::before {
            color: #4ade80;
            z-index: -1;
            animation: glitch-anim-1 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
            opacity: 1;
        }
        .hero-text:hover::after {
            color: #14532d;
            z-index: -2;
            animation: glitch-anim-2 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse both infinite;
            opacity: 1;
        }

        @keyframes glitch-anim-1 {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
        @keyframes glitch-anim-2 {
            0% { transform: translate(0); }
            20% { transform: translate(2px, -2px); }
            40% { transform: translate(2px, 2px); }
            60% { transform: translate(-2px, 2px); }
            80% { transform: translate(-2px, -2px); }
            100% { transform: translate(0); }
        }

        .reveal-up {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal-up.active {
            opacity: 1;
            transform: translateY(0);
        }

        .stagger-1 { transition-delay: 100ms; }
        .stagger-2 { transition-delay: 200ms; }
        .stagger-3 { transition-delay: 300ms; }

        .tilt-card {
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
        }
        .tilt-content { transform: translateZ(20px); }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .animate-float-delayed { animation: float 4s ease-in-out 2s infinite; }

        .text-shimmer {
            background: linear-gradient(to right, #22c55e 20%, #86efac 50%, #22c55e 80%);
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer { to { background-position: 200% center; } }

        /* Mobile Menu Visibility Classes */
        .mobile-menu-hidden {
            opacity: 0;
            pointer-events: none;
            visibility: hidden;
        }
        .mobile-menu-visible {
            opacity: 1;
            pointer-events: auto;
            visibility: visible;
        }

        html { scroll-behavior: smooth; }
    </style>
</head>
<body class="antialiased">

    <div id="canvas-container"></div>

    <nav class="fixed top-0 w-full z-50 flex justify-between items-center px-4 md:px-12 py-4 md:py-6 transition-all duration-300" id="navbar">
        <div class="hidden md:flex space-x-8 text-sm font-medium text-green-900 bg-white/60 backdrop-blur-md px-6 py-3 rounded-full border border-green-100 shadow-sm hover:shadow-green-500/20 hover:scale-105 transition-all">
            <a href="home.html" class="hover:text-green-600 transition-colors">Home</a>
            <a href="about.html" class="hover:text-green-600 transition-colors">About</a>
            <a href="whyagrobot.html" class="hover:text-green-600 transition-colors">Why Agrobot</a>
            <a href="process.html" class="hover:text-green-600 transition-colors">Process</a>
            <a href="team.html" class="hover:text-green-600 transition-colors">Team</a>
        </div>

        <button id="menu-btn" class="md:hidden text-green-900 z-50 bg-white/80 p-3 rounded-full backdrop-blur-md shadow-md border border-green-100 active:scale-95 transition-transform">
            <i data-lucide="menu" class="w-6 h-6"></i>
        </button>

        <div class="flex items-center space-x-6">
            <a href="https://docs.google.com/forms/d/e/1FAIpQLScI73jcXbUT1UbQky4h16ni5ktVahzHGodnOftGGCA65o2hgg/viewform" 
               target="_blank"
               class="text-xs md:text-sm font-semibold text-white bg-green-600 hover:bg-green-500 px-4 md:px-5 py-2 md:py-2.5 rounded-full shadow-lg shadow-green-600/20 transition-all flex items-center group hover:scale-110 active:scale-95">
                Launch Form
                <i data-lucide="arrow-right" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"></i>
            </a>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-0 z-[60] bg-[#f0fdf4]/95 backdrop-blur-xl flex flex-col items-center justify-center gap-8 mobile-menu-hidden transition-all duration-300">
        
        <button id="close-menu-btn" class="absolute top-6 right-4 p-3 bg-zinc-900 text-white rounded-full shadow-lg active:scale-90 transition-transform">
            <i data-lucide="x" class="w-6 h-6"></i>
        </button>

        <a href="home.html" class="mobile-link text-4xl font-tech font-bold text-green-900 hover:text-green-600 transition-colors">Home</a>
        <a href="about.html" class="mobile-link text-4xl font-tech font-bold text-green-900 hover:text-green-600 transition-colors">About</a>
        <a href="whyagrobot.html" class="mobile-link text-4xl font-tech font-bold text-green-900 hover:text-green-600 transition-colors">Why Agrobot</a>
        <a href="process.html" class="mobile-link text-4xl font-tech font-bold text-green-900 hover:text-green-600 transition-colors">Process</a>
        <a href="team.html" class="mobile-link text-4xl font-tech font-bold text-green-900 hover:text-green-600 transition-colors">Team</a>
        
        <a href="https://docs.google.com/forms/d/e/1FAIpQLScI73jcXbUT1UbQky4h16ni5ktVahzHGodnOftGGCA65o2hgg/viewform" target="_blank"
           class="mt-8 px-10 py-4 bg-green-600 text-white font-bold rounded-full shadow-xl shadow-green-600/30 active:scale-95 transition-transform uppercase tracking-widest text-sm">
            Launch Form
        </a>
    </div>

    <section class="relative min-h-[90vh] md:min-h-screen flex flex-col justify-center items-center pt-24 px-4 md:px-8 z-0" id="hero">
        <h2 class="text-white font-bold tracking-[0.5em] text-xs md:text-base mb-2 md:mb-4 animate-pulse relative z-10" style="opacity: 0; animation: popInFront 1.5s forwards 0.8s;">AUTOMATED FARMING</h2>
        
        <h1 class="hero-text font-tech font-black text-center mb-4 cursor-default">AGROBOT.</h1>
        
        <p class="text-green-900 font-mono text-xs md:text-sm mt-4 relative z-10" style="opacity: 0; animation: popInFront 1.5s forwards 1s;">SCROLL TO INITIALIZE SYSTEM</p>
    </section>

    <section class="relative bg-zinc-900 min-h-screen z-20 rounded-t-[2rem] md:rounded-t-[3rem] shadow-[0_-20px_60px_rgba(0,0,0,0.5)] mt-4 md:mt-0 overflow-hidden">
        
        <div id="about" class="border-b border-zinc-800 bg-zinc-900 py-12 md:pt-24 md:pb-16 px-6 rounded-t-[2rem] md:rounded-t-[3rem]">
            <div class="container mx-auto max-w-6xl">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                    
                    <div class="reveal-up relative group order-2 md:order-1 tilt-card-container">
                        <div class="tilt-card relative rounded-2xl overflow-hidden border border-zinc-700 shadow-2xl bg-zinc-800">
                            <div class="absolute -inset-1 bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl blur opacity-25 group-hover:opacity-75 transition duration-500"></div>
                            <img src="agrobot2.jpeg" class="w-full object-cover h-64 md:h-auto relative z-10" alt="Agrobot Prototype">
                            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 md:p-6 pointer-events-none z-20 tilt-content">
                                <p class="text-green-400 text-[10px] md:text-xs font-mono uppercase tracking-widest flex items-center gap-2">
                                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                    Model: A-01 Prototype
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="text-left order-1 md:order-2">
                        <h3 class="reveal-up text-green-500 text-xs font-bold tracking-[0.3em] uppercase mb-4">About The Project</h3>
                        <h2 class="reveal-up stagger-1 text-3xl md:text-4xl font-bold text-white mb-6 font-tech">Autonomous <br> <span class="text-shimmer">Field Assistant</span></h2>
                        <p class="reveal-up stagger-2 text-zinc-300 text-base md:text-lg leading-relaxed mb-6">Agrobot is an autonomous agricultural robot designed to revolutionize traditional farming methods. By integrating robotics, artificial intelligence, and IoT connectivity, Agrobot handles labor-intensive tasks with unmatched precision.</p>
                        
                        
                        <p class="reveal-up stagger-3 text-zinc-400 text-sm md:text-base leading-relaxed">It serves as a comprehensive field assistant, capable of navigating complex crop rows to monitor health, dispense nutrients, and manage pests—all while sending real-time data back to the farmer's dashboard.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="why-agrobot" class="border-b border-zinc-800 bg-zinc-900 py-12 md:py-24 px-6">
            <div class="container mx-auto max-w-6xl">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-16 items-center">
                    <div>
                        <h2 class="reveal-up text-green-400 tracking-[0.5em] text-sm font-bold mb-4">ADVANTAGES</h2>
                        <h2 class="reveal-up stagger-1 text-3xl md:text-5xl font-bold text-white mb-6 font-tech">Why Choose Agrobot?</h2>
                        <p class="reveal-up stagger-2 text-zinc-400 text-base md:text-lg leading-relaxed mb-10">In an era where efficiency and sustainability are paramount, Agrobot provides the technological edge needed to maximize yield while minimizing effort and environmental impact.</p>
                        
                        <div class="space-y-8">
                            <div class="reveal-up stagger-1 flex items-start gap-6 group hover:translate-x-2 transition-transform duration-300 cursor-default">
                                <div class="w-12 h-12 bg-green-500/10 rounded-lg flex-shrink-0 flex items-center justify-center text-green-400 group-hover:bg-green-500 group-hover:text-white transition-colors animate-float">
                                    <i data-lucide="trending-up" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-white mb-2 font-tech group-hover:text-green-400 transition-colors">Increased Yield</h3>
                                    <p class="text-zinc-500 text-sm leading-relaxed group-hover:text-zinc-400 transition-colors">Optimized care for every single plant ensures healthier crops and significantly higher harvest outputs.</p>
                                </div>
                            </div>
                            <div class="reveal-up stagger-2 flex items-start gap-6 group hover:translate-x-2 transition-transform duration-300 cursor-default">
                                <div class="w-12 h-12 bg-green-500/10 rounded-lg flex-shrink-0 flex items-center justify-center text-green-400 group-hover:bg-green-500 group-hover:text-white transition-colors animate-float-delayed">
                                    <i data-lucide="leaf" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-white mb-2 font-tech group-hover:text-green-400 transition-colors">Resource Efficiency</h3>
                                    <p class="text-zinc-500 text-sm leading-relaxed group-hover:text-zinc-400 transition-colors">Precise water and chemical application reduces waste by up to 40%, saving costs and protecting the soil.</p>
                                </div>
                            </div>
                            <div class="reveal-up stagger-3 flex items-start gap-6 group hover:translate-x-2 transition-transform duration-300 cursor-default">
                                <div class="w-12 h-12 bg-green-500/10 rounded-lg flex-shrink-0 flex items-center justify-center text-green-400 group-hover:bg-green-500 group-hover:text-white transition-colors animate-float">
                                    <i data-lucide="bar-chart-3" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-white mb-2 font-tech group-hover:text-green-400 transition-colors">Data-Driven Decisions</h3>
                                    <p class="text-zinc-500 text-sm leading-relaxed group-hover:text-zinc-400 transition-colors">Continuous monitoring provides actionable insights, taking the guesswork out of farming management.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="reveal-up relative group h-full flex items-center mt-8 md:mt-0 tilt-card-container">
                        <div class="tilt-card relative rounded-2xl overflow-hidden border border-zinc-700 shadow-2xl w-full bg-zinc-800">
                            <div class="absolute -inset-1 bg-gradient-to-l from-green-600 to-emerald-600 rounded-2xl blur opacity-25 group-hover:opacity-75 transition duration-500"></div>
                            <img src="agrobot.jpeg" class="w-full object-cover relative z-10" alt="Agrobot IoT Sensor">
                            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 text-right pointer-events-none z-20 tilt-content">
                                <p class="text-green-400 text-xs font-mono uppercase tracking-widest">Tech: IoT Sensor Array</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="contact" class="container mx-auto px-6 py-12 md:py-24 text-center reveal-up">
            <a href="https://docs.google.com/forms/d/e/1FAIpQLScI73jcXbUT1UbQky4h16ni5ktVahzHGodnOftGGCA65o2hgg/viewform" target="_blank" class="inline-block bg-white text-black font-bold px-8 py-3 md:px-10 md:py-4 rounded-lg hover:bg-green-500 hover:text-white hover:scale-105 transition-all shadow-[0_0_20px_rgba(34,197,94,0.3)] uppercase tracking-widest text-sm md:text-base">Launch Contact Form</a>
            <footer class="mt-16 text-zinc-600 text-[10px] md:text-xs tracking-widest uppercase">© 2025 Agrobot Technologies. System Status: Normal.</footer>
        </div>
    </section>

    <script>
        lucide.createIcons();

        // --- MENU LOGIC ---
        const menuBtn = document.getElementById('menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        const body = document.body;

        function openMenu() {
            mobileMenu.classList.remove('mobile-menu-hidden');
            mobileMenu.classList.add('mobile-menu-visible');
            mobileMenu.classList.remove('translate-x-full');
            body.style.overflow = 'hidden'; // Lock scroll
        }

        function closeMenu() {
            mobileMenu.classList.add('translate-x-full');
            setTimeout(() => {
                mobileMenu.classList.remove('mobile-menu-visible');
                mobileMenu.classList.add('mobile-menu-hidden');
            }, 300); // Wait for transition
            body.style.overflow = ''; // Unlock scroll
        }

        menuBtn.addEventListener('click', openMenu);
        closeMenuBtn.addEventListener('click', closeMenu);

        mobileLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });

        // --- 3D TILT EFFECT LOGIC ---
        const tiltContainers = document.querySelectorAll('.tilt-card-container');
        
        tiltContainers.forEach(container => {
            const card = container.querySelector('.tilt-card');
            
            container.addEventListener('mousemove', (e) => {
                const rect = container.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Calculate rotation (max 15 degrees)
                const xRotation = -1 * ((y - rect.height/2) / rect.height * 15);
                const yRotation = (x - rect.width/2) / rect.width * 15;
                
                // Apply transform
                card.style.transform = `perspective(1000px) scale(1.05) rotateX(${xRotation}deg) rotateY(${yRotation}deg)`;
            });

            container.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) scale(1) rotateX(0) rotateY(0)';
            });
        });

        // --- THREE.JS BACKGROUND ---
        const initThreeJS = () => {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            // Transparent background
            
            const mainGroup = new THREE.Group();
            scene.add(mainGroup);

            // Initial Y Position (Start below screen)
            mainGroup.position.y = -35; 

            const isMobile = window.innerWidth < 768;
            const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = isMobile ? 22 : 15;

            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio); 
            container.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8); 
            scene.add(ambientLight);

            const dirLight = new THREE.DirectionalLight(0xffffff, 1.5);
            dirLight.position.set(5, 10, 7);
            scene.add(dirLight);
            
            const dirLight2 = new THREE.DirectionalLight(0xffffff, 1.0);
            dirLight2.position.set(-5, 5, 2);
            scene.add(dirLight2);

            const rimLight = new THREE.PointLight(0x86efac, 3.0, 50);
            rimLight.position.set(-5, 5, -5);
            scene.add(rimLight);

            const PARTICLE_COUNT = isMobile ? 30000 : 60000; 
            const BALL_RADIUS = 4.5; 
            
            const textureLoader = new THREE.TextureLoader();
            const earthMask = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_specular_2048.jpg');
            const grassTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/terrain/grasslight-big.jpg');
            grassTexture.wrapS = THREE.RepeatWrapping;
            grassTexture.wrapT = THREE.RepeatWrapping;
            grassTexture.repeat.set(6, 6);

            const oceanGeometry = new THREE.SphereGeometry(BALL_RADIUS - 0.05, 128, 128); 
            const oceanMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x1e4620, 
                map: grassTexture,
                bumpMap: grassTexture,
                bumpScale: 0.005, 
                roughness: 0.1, 
                metalness: 0.2, 
            });
            const oceanSphere = new THREE.Mesh(oceanGeometry, oceanMaterial);
            mainGroup.add(oceanSphere);

            const landGeometry = new THREE.SphereGeometry(BALL_RADIUS, 128, 128);
            const landMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x4ade80, 
                map: grassTexture,
                alphaMap: earthMask, 
                transparent: true,
                bumpMap: grassTexture,
                bumpScale: 0.02, 
                roughness: 0.2, 
                metalness: 0.1,
            });
            const landSphere = new THREE.Mesh(landGeometry, landMaterial);
            mainGroup.add(landSphere);

            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(PARTICLE_COUNT * 3);
            const originalPositions = new Float32Array(PARTICLE_COUNT * 3);
            const scatterDirections = new Float32Array(PARTICLE_COUNT * 3);
            
            for (let i = 0; i < PARTICLE_COUNT; i++) {
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos((Math.random() * 2) - 1);
                const r = BALL_RADIUS; 

                const x = r * Math.sin(phi) * Math.cos(theta);
                const y = r * Math.sin(phi) * Math.sin(theta);
                const z = r * Math.cos(phi);

                positions[i * 3] = x;
                positions[i * 3 + 1] = y;
                positions[i * 3 + 2] = z;

                originalPositions[i * 3] = x;
                originalPositions[i * 3 + 1] = y;
                originalPositions[i * 3 + 2] = z;

                scatterDirections[i * 3] = (Math.random() - 0.5) * 3.0; 
                scatterDirections[i * 3 + 1] = (Math.random() - 0.5) * 3.0; 
                scatterDirections[i * 3 + 2] = (Math.random() - 0.5) * 3.0; 
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            
            const material = new THREE.PointsMaterial({
                color: 0x86efac, 
                size: 0.08, 
                sizeAttenuation: true
            });

            const points = new THREE.Points(geometry, material);
            mainGroup.add(points);

            let mouseX = 0;
            let mouseY = 0;
            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX) * 0.001; 
                mouseY = (event.clientY - windowHalfY) * 0.001;
            });

            document.addEventListener('touchmove', (event) => {
                if (event.touches.length > 0) {
                    const touch = event.touches[0];
                    mouseX = (touch.clientX - windowHalfX) * 0.002; 
                    mouseY = (touch.clientY - windowHalfY) * 0.002;
                }
            });

            const animate = () => {
                requestAnimationFrame(animate);

                // --- BALL RISES ---
                mainGroup.position.y += (0 - mainGroup.position.y) * 0.025;

                const scrollY = window.scrollY;
                const viewHeight = window.innerHeight;
                
                let scrollRatio = scrollY / 300; 
                if(scrollRatio > 1) scrollRatio = 1;
                const opacity = 1 - scrollRatio;
                
                oceanSphere.material.opacity = opacity;
                landSphere.material.opacity = opacity;
                
                oceanSphere.visible = opacity > 0.01;
                landSphere.visible = opacity > 0.01;

                camera.position.x += (mouseX * 5 - camera.position.x) * 0.05;
                camera.position.y += (-mouseY * 5 - camera.position.y) * 0.05;
                camera.lookAt(scene.position);

                const autoSpeed = 0.008; 
                oceanSphere.rotation.y += autoSpeed;
                landSphere.rotation.y += autoSpeed;
                points.rotation.y += autoSpeed;

                let explosionFactor = Math.min(scrollY / viewHeight, 1.5) * 8.0; 

                const posArray = geometry.attributes.position.array;

                for (let i = 0; i < PARTICLE_COUNT; i++) {
                    const i3 = i * 3;
                    posArray[i3]     = originalPositions[i3]     + (scatterDirections[i3] * explosionFactor);
                    posArray[i3 + 1] = originalPositions[i3 + 1] + (scatterDirections[i3 + 1] * explosionFactor);
                    posArray[i3 + 2] = originalPositions[i3 + 2] + (scatterDirections[i3 + 2] * explosionFactor);
                }

                geometry.attributes.position.needsUpdate = true;
                renderer.render(scene, camera);
            };

            animate();

            window.addEventListener('resize', () => {
                const newIsMobile = window.innerWidth < 768;
                camera.position.z = newIsMobile ? 22 : 15;

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        if (typeof THREE !== 'undefined') {
            initThreeJS();
        }

        const navbar = document.getElementById('navbar');
        const heroSection = document.getElementById('hero');
        const revealElements = document.querySelectorAll('.reveal-up');

        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const heroOpacity = Math.max(0, 1 - scrollY / 500);
            heroSection.style.opacity = heroOpacity;
            heroSection.style.transform = `translateY(${scrollY * 0.5}px)`; 

            if (scrollY > 50) {
                navbar.classList.add('py-4');
                navbar.classList.remove('py-6');
            } else {
                navbar.classList.add('py-6');
                navbar.classList.remove('py-4');
            }

            revealElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                if (elementTop < windowHeight * 0.85) {
                    el.classList.add('active');
                }
            });
        });

        window.dispatchEvent(new Event('scroll'));
    </script>
</body>
</html>
